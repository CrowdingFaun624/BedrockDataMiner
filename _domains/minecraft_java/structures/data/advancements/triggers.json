{
    "group_aliases": {
        "a": "structures/misc/types",
        "conditions": "structures/data/advancements/conditions",
        "misc": "structures/misc/misc",
        "temp": "structures/misc/template",
        "pred": "structures/misc/predicate",
        "t": "structure_tags"
    },
    "list_of_entity_condition_or_predicate_list": {
        "inherit": "temp/Set",
        "$field": "entity",
        "$subfield": "predicate",
        "value_types": ["list", "dict"],
        "value_structure": "#!entity_condition_or_predicate_list{field=subfield}"
    },
    "entity_condition_or_predicate_list": {
        "type": "Union",
        "$field": "predicate",
        "substructures": {
            "list": "#!pred/predicate_list{field=field}",
            "dict": "conditions/condition.entity"
        }
    },
    "criterion": {
        "type": "Switch",
        "switch_function": {
            "function_name": "get_key",
            "arguments": {
                "key": "trigger"
            }
        },
        "substructures": {
            "minecraft:allay_drop_item_on_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location, @trigger.item{tags=@t/outdated}]}"},
            "minecraft:any_block_use": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location]}"},
            "minecraft:arbitrary_player_tick": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/outdated"]},
            "minecraft:avoid_vibration": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:bee_nest_destroyed": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.block_id, @trigger.item, @trigger.bee_nest]}"},
                      "bred_animals": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.bred_animals]}", "tags": "t/outdated"},
            "minecraft:bred_animals": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.bred_animals]}"},
            "minecraft:brewed_potion": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.potion_id]}"},
            "minecraft:bring_home_corruption": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:changed_dimension": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.changed_dimension]}"},
            "minecraft:channeled_lightning": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.victims]}"},
            "minecraft:compost_staff": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:construct_beacon": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.construct_beacon]}"},
                      "consume_item": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}", "tags": "t/outdated"},
            "minecraft:consume_item": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}"},
            "minecraft:crafter_recipe_crafted": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.recipe_crafted]}"},
            "minecraft:cured_zombie_villager": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.villager, @trigger.zombie]}"},
            "minecraft:default_block_use": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location]}"},
            "minecraft:eat_armor": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:effects_changed": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.effects, @trigger.source]}"},
            "minecraft:enchanted_item": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item, @trigger.levels]}"},
            "minecraft:enter_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.block_id, @trigger.block_state]}"},
            "minecraft:entity_hurt_player": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.damage]}"},
            "minecraft:entity_killed_player": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity, @trigger.killing_blow]}"},
            "minecraft:fall_after_explosion": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.start_position, @trigger.distance, @trigger.cause]}"},
            "minecraft:fall_from_height": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.start_position, @trigger.distance]}"},
            "minecraft:filled_bucket": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}"},
            "minecraft:fishing_rod_hooked": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity, @trigger.item, @trigger.rod]}"},
            "minecraft:get_peeled": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:hero_of_the_village": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:impossible": {"types": "dict", "structure": "trigger"}, // empty
            "minecraft:inventory_changed": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.items, @trigger.slots]}"},
            "minecraft:item_delivered_to_player": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/outdated"]},
            "minecraft:item_durability_changed": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item_durability_changed, @trigger.item]}"},
            "minecraft:item_used_on_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location, @trigger.item{tags=@t/outdated}]}"},
            "minecraft:kill_mob_near_sculk_catalyst": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity, @trigger.killing_blow]}"},
            "minecraft:killed_by_arrow": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.fired_from_weapon, @trigger.unique_entity_types, @trigger.victims]}"},
            "minecraft:killed_by_crossbow": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.fired_from_weapon, @trigger.unique_entity_types, @trigger.victims]}"},
            // heehee I discovered this one ^ (wasn't on MCW before)
            "minecraft:levitation": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.distance, @trigger.duration]}"},
            "minecraft:lightning_strike": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.lightning_strike]}"},
            "minecraft:location": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location{tags=@t/outdated}, @conditions/condition.location{tags=@t/outdated}]}"},
            "minecraft:nether_travel": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.start_position, @trigger.distance]}"},
            "minecraft:peel_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:peel_potato_armor": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:peel_potato_sheep": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:placed_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.location, @trigger.block_id{tags=@t/outdated}]}"},
            "minecraft:player_damaged": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.damage]}", "tags": ["t/outdated"]},
            "minecraft:player_generates_container_loot": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.loot_table]}"},
            "minecraft:player_hurt_entity": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.damage, @trigger.entity]}"},
            "minecraft:player_interacted_with_entity": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item, @trigger.entity]}"},
            "minecraft:player_killed_entity": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity, @trigger.killing_blow]}"},
            "minecraft:player_sheared_equipment": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity, @trigger.item]}"},
            "minecraft:potato_refined": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.potato_refined]}", "tags": ["t/april_fools"]},
            "minecraft:recipe_crafted": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.recipe_crafted]}"},
            "minecraft:recipe_unlocked": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.recipe_id]}"},
            "minecraft:ride_entity_in_lava": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.start_position, @trigger.distance]}"},
            "minecraft:rumble_plant": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:safely_harvest_honey": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.block_or_tag, @trigger.item]}", "tags": ["t/outdated"]},
            "minecraft:said_potato": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]},
            "minecraft:shot_crossbow": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}"},
            "minecraft:slept_in_bed": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:slide_down_block": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.block_id, @trigger.block_state]}"},
            "minecraft:started_riding": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:summoned_entity": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity]}"},
            "minecraft:tame_animal": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.entity]}"},
            "minecraft:target_hit": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.target_hit]}"},
            "minecraft:throw_lubricated": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.min_lubrication]}", "tags": ["t/april_fools"]},
            "minecraft:thrown_item_picked_up_by_entity": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item, @trigger.entity]}"},
            "minecraft:thrown_item_picked_up_by_player": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item, @trigger.entity]}"},
            "minecraft:tick": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:used_ender_eye": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.used_ender_eye]}"},
            "minecraft:used_totem": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}"},
            "minecraft:using_item": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item]}"},
            "minecraft:villager_trade": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player, @trigger.item, @trigger.villager]}"},
            "minecraft:voluntary_exile": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}"},
            "minecraft:voted": {"types": "dict", "structure": "#!trigger{imports=[@trigger.player]}", "tags": ["t/april_fools"]}
        }
    },
    "trigger": {
        "inherit": "temp/SortedKeymap",
        "$imports": [],
        "keys": {
            "trigger": {"types": "str", "delegate_arguments": {"always_print": true}},
            "conditions": {"types": "dict", "structure": "#!conditions{imports=imports}"}
        }
    },
    "conditions": {
        "inherit": "temp/SortedKeymap",
        "imports": "#imports"
    },
    // some of these Component names are arbitrary and not based on game names.
    "trigger.bee_nest": {
        "type": "Keymap",
        "keys": {
            "num_bees_inside": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"}
        }
    },
    "trigger.block_id": {
        "type": "Keymap",
        "$tags": [],
        "tags": "#tags",
        "keys": {
            "block": {"types": "str"}
        }
    },
    "trigger.block_or_tag": {
        "type": "Keymap", // used exclusively in minecraft:safely_harvest_honey, a removed trigger. most likely an outdated version of trigger.block_id above.
        "keys": {
            "block": {"types": "dict", "structure": {
                "inherit": "temp/SortedKeymap",
                "keys": {
                    "block": {"types": "str"},
                    "tag": {"types": "str"}
                }
            }}
        }
    },
    "trigger.block_state": {
        "type": "Keymap",
        "keys": {
            "state": {"types": "dict", "structure": "conditions/condition.block_state"}
        }
    },
    "trigger.bred_animals": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "child": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"},
            "parent": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"},
            "partner": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.cause": {
        "type": "Keymap",
        "keys": {
            "cause": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.changed_dimension": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "from": {"types": "str"},
            "to": {"types": "str"}
        }
    },
    "trigger.construct_beacon": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "level": {"types": ["misc/decimal", "dict"], "structure": "misc/range_decimal_or_decimal"}
        }
    },
    "trigger.damage": {
        "type": "Keymap",
        "keys": {
            "damage": {"types": "dict", "structure": "conditions/condition.damage"}
        }
    },
    "trigger.distance": {
        "type": "Keymap",
        "keys": {
            "distance": {"types": "dict", "structure": "conditions/condition.distance"}
        }
    },
    "trigger.duration": {
        "type": "Keymap",
        "keys": {
            "duration": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"}
        }
    },
    "trigger.effects": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "effects": {"types": "dict", "structure": "conditions/condition.effects"}
        }
    },
    "trigger.entity": {
        "type": "Keymap",
        "keys": {
            "entity": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.fired_from_weapon": {
        "type": "Keymap",
        "keys": {
            "fired_from_weapon": {"types": "a/compound", "structure": "conditions/condition.item"}
        }
    },
    "trigger.item": {
        "type": "Keymap",
        "$tags": [],
        "tags": "#tags",
        "keys": {
            "item": {"types": "a/compound", "structure": "conditions/condition.item"}
        }
    },
    "trigger.item_durability_changed": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "delta": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"},
            "durability": {"types": ["misc/decimal", "dict"], "structure": "misc/range_decimal_or_decimal"}
        }
    },
    "trigger.items": {
        "type": "Keymap",
        "keys": {
            "items": {"types": "list", "structure": "conditions/condition.items"}
        }
    },
    "trigger.killing_blow": {
        "type": "Keymap",
        "keys": {
            "killing_blow": {"types": "dict", "structure": "conditions/condition.damage_type"}
        }
    },
    "trigger.levels": {
        "type": "Keymap",
        "keys": {
            "levels": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"}
        }
    },
    "trigger.lightning_strike": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "lightning": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"},
            "bystander": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.location": {
        "type": "Keymap",
        "$tags": [],
        "tags": "#tags",
        "keys": {
            "location": {"types": ["list", "dict"], "structure": "trigger.location:location"}
        }
    },
    "trigger.location:location": {
        "type": "Union",
        "substructures": {
            "list": "pred/predicate_list",
            "dict": "conditions/condition.location"
        }
    },
    "trigger.loot_table": {
        "type": "Keymap",
        "keys": {
            "loot_table": {"types": "str"}
        }
    },
    "trigger.min_lubrication": { // exclusive to April Fools
        "type": "Keymap",
        "keys": {
            "min_lubrication": {"types": "int"}
        }
    },
    "trigger.player": {
        "type": "Keymap",
        "keys": {
            "player": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.potato_refined": { // exclusive to April Fools
        "type": "Keymap",
        "keys": {
            "result_predicate": {"types": "dict", "structure": "conditions/condition.potato_refined"}
        }
    },
    "trigger.potion_id": {
        "type": "Keymap",
        "keys": {
            "potion": {"types": "str"}
        }
    },
    "trigger.recipe_crafted": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "recipe_id": {"types": "str"},
            "ingredients": {"types": "list", "structure": "conditions/condition.items"}
        }
    },
    "trigger.recipe_id": {
        "type": "Keymap",
        "keys": {
            "recipe": {"types": "str"}
        }
    },
    "trigger.rod": {
        "type": "Keymap",
        "keys": {
            "rod": {"types": "a/compound", "structure": "conditions/condition.item"}
        }
    },
    "trigger.slots": {
        "type": "Keymap",
        "keys": {
            "slots": {"types": "dict", "structure": "conditions/condition.slots_filled"}
        }
    },
    "trigger.source": {
        "type": "Keymap",
        "keys": {
            "source": {"types": ["list", "dict"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.start_position": {
        "type": "Keymap",
        "keys": {
            "start_position": {"types": "dict", "structure": "conditions/condition.location"}
        }
    },
    "trigger.target_hit": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "signalStrength": {"types": "int", "tags": "t/outdated"},
            "signal_strength": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"},
            "projectile": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.unique_entity_types": {
        "type": "Keymap",
        "keys": {
            "unique_entity_types": {"types": ["int", "dict"], "structure": "misc/range_int_or_int"}
        }
    },
    "trigger.used_ender_eye": {
        "type": "Keymap",
        "keys": {
            "distance": {"types": ["misc/decimal", "dict"], "structure": "misc/range_decimal_or_decimal"}
        }
    },
    "trigger.victims": {
        "type": "Keymap",
        "keys": {
            "victims": {"types": "list", "structure": "list_of_entity_condition_or_predicate_list"}
        }
    },
    "trigger.villager": {
        "type": "Keymap",
        "keys": {
            "villager": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    },
    "trigger.zombie": {
        "type": "Keymap",
        "keys": {
            "zombie": {"types": ["dict", "list"], "structure": "entity_condition_or_predicate_list"}
        }
    }
}