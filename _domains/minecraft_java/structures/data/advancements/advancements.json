{
    "group_aliases": {
        "a": "structures/misc/types",
        "item_old": "structures/misc/item_old",
        "s": "serializers",
        "temp": "structures/misc/template",
        "misc": "structures/misc/misc",
        "t": "structure_tags",
        "tc": "structures/misc/text_component"
    },
    "base": {
        "inherit": "temp/base_multiple_pack_files",
        "$name": "advancements",
        "$pack_type": "data pack",
        "$serializer": "#@minecraft_common!s/json",
        "$structure": "root"
    },
    "root": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "parent": {"types": "str"},
            "display": {"types": "dict", "structure": "display"},
            "criteria": {"types": "dict", "structure": "criteria"},
            "requirements": {"types": "list", "structure": "requirements"},
            "rewards": {"types": "dict", "structure": "rewards"},
            "sends_telemetry_event": {"types": "bool"}
        }
    },
    "display": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "icon": {"types": ["a/compound", "str"], "structure": "display:icon"},
            "title": {"types": "tc/root_type", "structure": "tc/root"},
            "description": {"types": "tc/root_type", "structure": "tc/root"},
            "frame": {"types": "str"},
            "background": {"types": "str"},
            "show_toast": {"types": "bool"},
            "announce_to_chat": {"types": "bool"},
            "hidden": {"types": "bool"},
            "rewards": {"types": "dict", "structure": "rewards", "tags": "t/outdated"}
        }
    },
    "display:icon": {
        "type": "Switch",
        "switch_function": {
            "function_name": "normalizers/normalizers advancements_display_icon_switch"
        },
        "substructures": {
            "older": {"types": "str", "tags": "t/outdated"},
            "old": {"types": "dict", "structure": "display:icon.old", "tags": "t/outdated"},
            "new": {"types": "a/compound", "structure": "misc/item_data_slotless"}
        }
    },
    "display:icon.old": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "item": {"types": "str"},
            "data": {"types": "int", "tags": "t/outdated"},
            "nbt": {"types": "str"} // TODO: process SNBT
        }
    },
    "requirements": {
        "inherit": "temp/Set",
        "$field": "requirement",
        "value_types": "list",
        "value_structure": "#!misc/named_list{name='criterion'}"
    },
    "rewards": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "experience": {"types": "int"},
            "recipes": {"types": "list", "structure": "#!misc/named_list{name='recipe'}"},
            "loot": {"types": "list", "structure": "#!misc/named_list{name='loot table'}"},
            "function": {"types": "str"}
        }
    },
    "criteria": {
        "inherit": "temp/Dict",
        "$field": "criterion",
        "value_types": "dict",
        "value_structure": "structures/data/advancements/triggers/criterion"
    }
}