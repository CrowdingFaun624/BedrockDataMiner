{
    "group_aliases": {
        "bpred": "structures/misc/block_predicate",
        "cf": "structures/data/generation/configured_feature",
        "hp": "structures/misc/provider/height_provider",
        "ip": "structures/misc/provider/int_provider",
        "misc": "structures/misc/misc",
        "temp": "structures/misc/template",
        "vector": "structures/misc/vector"
    },
    "base": {
        "inherit": "temp/base_multiple_pack_files",
        "$name": "placed_feature",
        "$pack_type": "data pack",
        "$structure": "#@placed_feature"
    },
    "placed_feature_list_or_feature": {
        "type": "Union",
        "substructures": {
            "str": null,
            "dict": "placed_feature",
            "list": "placed_feature_or_id_list"
        }
    },
    "placed_feature_or_id": {
        "type": "Union",
        "substructures": {
            "str": null,
            "dict": "placed_feature"
        }
    },
    "placed_feature_or_id_list": {
        "inherit": "temp/Set",
        "$field": "placed feature",
        "value_types": ["str", "dict"],
        "value_structure": "placed_feature_or_id"
    },
    "placed_feature": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "feature": {"types": ["str", "dict"], "structure": "cf/feature_or_id"},
            "placement": {"types": "list", "structure": "placement_modifier_list"}
        }
    },
    "placement_modifier_list": {
        "inherit": "temp/Set",
        "$field": "placement modifier",
        "value_types": "dict",
        "value_structure": "placement_modifier"
    },
    "placement_modifier": {
        "type": "Switch",
        "switch_function": {
            "function_name": "get_key",
            "arguments": {
                "key": "type"
            }
        },
        "substructures": {
            "minecraft:biome": {"types": "dict", "structure": "placement_modifier.biome"},
            "minecraft:block_predicate_filter": {"types": "dict", "structure": "placement_modifier.block_predicate_filter"},
            "minecraft:carving_mask": {"types": "dict", "structure": "placement_modifier.carving_mask"},
            "minecraft:count": {"types": "dict", "structure": "placement_modifier.count"},
            "minecraft:count_on_every_layer": {"types": "dict", "structure": "placement_modifier.count"},
            "minecraft:environment_scan": {"types": "dict", "structure": "placement_modifier.environment_scan"},
            "minecraft:fixed_placement": {"types": "dict", "structure": "placement_modifier.fixed_placement"},
            "minecraft:height_range": {"types": "dict", "structure": "placement_modifier.height_range"},
            "minecraft:heightmap": {"types": "dict", "structure": "placement_modifier.heightmap"},
            "minecraft:in_square": {"types": "dict", "structure": "placement_modifier.in_square"},
            "minecraft:noise_based_count": {"types": "dict", "structure": "placement_modifier.noise_based_count"},
            "minecraft:noise_threshold_count": {"types": "dict", "structure": "placement_modifier.noise_threshold_count"},
            "minecraft:random_offset": {"types": "dict", "structure": "placement_modifier.random_offset"},
            "minecraft:rarity_filter": {"types": "dict", "structure": "placement_modifier.rarity_filter"},
            "minecraft:surface_relative_threshold_filter": {"types": "dict", "structure": "placement_modifier.surface_relative_threshold_filter"},
            "minecraft:surface_water_depth_filter": {"types": "dict", "structure": "placement_modifier.surface_water_depth_filter"}
        }
    },
    "placement_modifier:all": {
        "type": "Keymap",
        "keys": {
            "type": {"types": "str", "delegate_arguments": {"always_print": true}}
        }
    },
    "placement_modifier.biome": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all"
    },
    "placement_modifier.block_predicate_filter": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "predicate": {"types": "dict", "structure": "bpred/block_predicate"}
        }
    },
    "placement_modifier.carving_mask": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "step": {"types": "str"}
        }
    },
    "placement_modifier.count": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "count": {"types": ["int", "dict"], "structure": "ip/int_provider"}
        }
    },
    "placement_modifier.environment_scan": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "direction_of_search": {"types": "str"},
            "max_steps": {"types": "int"},
            "target_condition": {"types": "dict", "structure": "bpred/block_predicate"},
            "allowed_search_condition": {"types": "dict", "structure": "bpred/block_predicate"}
        }
    },
    "placement_modifier.fixed_placement": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "positions": {"types": "list", "structure": "placement_modifier.fixed_placement:positions"}
        }
    },
    "placement_modifier.fixed_placement:positions": {
        "inherit": "temp/Set",
        "$field": "position",
        "value_types": "list",
        "value_structure": "vector/vector.int"
    },
    "placement_modifier.height_range": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "height": {"types": "dict", "structure": "hp/height_provider"}
        }
    },
    "placement_modifier.heightmap": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "heightmap": {"types": "str"}
        }
    },
    "placement_modifier.in_square": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all"
    },
    "placement_modifier.noise_based_count": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "noise_factor": {"types": "float"}, // double
            "noise_offset": {"types": "float"}, // double
            "noise_to_count_ratio": {"types": "int"}
        }
    },
    "placement_modifier.noise_threshold_count": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "noise_level": {"types": "float"}, // double
            "below_noise": {"types": "int"},
            "above_noise": {"types": "int"}
        }
    },
    "placement_modifier.random_offset": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "xz_spread": {"types": ["int", "dict"], "structure": "ip/int_provider"},
            "y_spread": {"types": ["int", "dict"], "structure": "ip/int_provider"}
        }
    },
    "placement_modifier.rarity_filter": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "chance": {"types": "int"}
        }
    },
    "placement_modifier.surface_relative_threshold_filter": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "heightmap": {"types": "str", "delegate_arguments": {"always_print": true}},
            "min_inclusive": {"types": "int"},
            "max_inclusive": {"types": "int"}
        }
    },
    "placement_modifier.surface_water_depth_filter": {
        "inherit": "temp/SortedKeymap",
        "imports": "placement_modifier:all",
        "keys": {
            "max_water_depth": {"types": "int"}
        }
    }
}