{
    // MCW says every float in this file is a double, except for some in density_function.spline
    "group_aliases": {
        "temp": "structures/misc/template"
    },
    "base": {
        "inherit": "temp/base_multiple_pack_files",
        "$name": "density_function",
        "$pack_type": "data pack",
        "$types": ["float", "dict"],
        "$structure": "#@density_function"
    },
    "density_function_type": {
        "type": "TypeAlias",
        "types": ["float", "dict"]
    },
    "density_function_or_id": {
        "type": "Union",
        "substructures": {
            "str": null,
            "density_function_type": "density_function"
        }
    },
    "density_function": {
        "type": "Switch",
        "switch_function": {
            "function_name": "normalizers/normalizers density_function_switch"
        },
        "substructures": {
            "constant_shorthand": {"types": "float"},
            "minecraft:abs": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:add": {"types": "dict", "structure": "density_function.double_argument"},
            "minecraft:beardifier": {"types": "dict", "structure": "density_function.empty"},
            "minecraft:blend_alpha": {"types": "dict", "structure": "density_function.empty"},
            "minecraft:blend_density": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:blend_offset": {"types": "dict", "structure": "density_function.empty"},
            "minecraft:cache_2d": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:cache_all_in_cell": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:cache_once": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:clamp": {"types": "dict", "structure": "density_function.clamp"},
            "minecraft:constant": {"types": "dict", "structure": "density_function.constant"},
            "minecraft:cube": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:end_islands": {"types": "dict", "structure": "density_function.empty"},
            "minecraft:flat_cache": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:half_negative": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:interpolated": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:max": {"types": "dict", "structure": "density_function.double_argument"},
            "minecraft:min": {"types": "dict", "structure": "density_function.double_argument"},
            "minecraft:mul": {"types": "dict", "structure": "density_function.double_argument"},
            "minecraft:noise": {"types": "dict", "structure": "density_function.noise"},
            "minecraft:old_blended_noise": {"types": "dict", "structure": "density_function.old_blended_noise"},
            "minecraft:quarter_negative": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:range_choice": {"types": "dict", "structure": "density_function.range_choice"},
            "minecraft:shift": {"types": "dict", "structure": "density_function.shift"},
            "minecraft:shift_a": {"types": "dict", "structure": "density_function.shift"},
            "minecraft:shift_b": {"types": "dict", "structure": "density_function.shift"},
            "minecraft:shifted_noise": {"types": "dict", "structure": "density_function.shifted_noise"},
            "minecraft:spline": {"types": "dict", "structure": "density_function.spline"},
            "minecraft:square": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:squeeze": {"types": "dict", "structure": "density_function.single_argument"},
            "minecraft:weird_scaled_sampler": {"types": "dict", "structure": "density_function.weird_scaled_sampler"},
            "minecraft:y_clamped_gradient": {"types": "dict", "structure": "density_function.y_clamped_gradient"}
        }
    },
    "density_function:all": {
        "type": "Keymap",
        "keys": {
            "type": {"types": "str", "delegate_arguments": {"always_print": true}}
        }
    },
    "density_function.clamp": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "input": {"types": "density_function_type", "structure": "density_function"}, // id not allowed
            "min": {"types": "float"},
            "max": {"types": "float"}
        }
    },
    "density_function.constant": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "argument": {"types": "float"}
        }
    },
    "density_function.double_argument": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "argument1": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "argument2": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"}
        }
    },
    "density_function.empty": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all"
    },
    "density_function.noise": {
        "inherit" :"temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "noise": {"types": "str"},
            "xz_scale": {"types": "float"},
            "y_scale": {"types": "float"}
        }
    },
    "density_function.old_blended_noise": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "xz_scale": {"types": "float"},
            "y_scale": {"types": "float"},
            "xz_factor": {"types": "float"},
            "y_factor": {"types": "float"},
            "smear_scale_multiplier": {"types": "float"}
        }
    },
    "density_function.range_choice": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "input": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "min_inclusive": {"types": "float"},
            "max_exclusive": {"types": "float"},
            "when_in_range": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "when_out_of_range": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"}
        }
    },
    "density_function.shift": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "argument": {"types": "str"}
        }
    },
    "density_function.shifted_noise": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "noise": {"types": "str"},
            "xz_scale": {"types": "float"},
            "y_scale": {"types": "float"},
            "shift_x": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "shift_y": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "shift_z": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"}
        }
    },
    "density_function.single_argument": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "argument": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"}
        }
    },
    "density_function.spline": {
        // all floats in here and other spline Components are floats on MCW (except the density_function reference)
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "spline": {"types": ["float", "dict"], "structure": "density_function.spline:spline"}
        }
    },
    "density_function.spline:spline": {
        "type": "Union",
        "substructures": {
            "float": null,
            "dict": "density_function.spline:spline.keymap"
        }
    },
    "density_function.spline:spline.keymap": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "coordinate": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"},
            "points": {"types": "list", "structure": "density_function.spline:points"}
        }
    },
    "density_function.spline:points": {
        "inherit": "temp/List",
        "$field": "point",
        "value_types": "dict",
        "value_structure": "density_function.spline:point"
    },
    "density_function.spline:point": {
        "inherit": "temp/SortedKeymap",
        "keys": {
            "location": {"types": "float"},
            "value": {"types": ["float", "dict"], "structure": "density_function.spline:spline"},
            "derivative": {"types": "float"}
        }
    },
    "density_function.weird_scaled_sampler": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "rarity_value_mapper": {"types": "str"},
            "noise": {"types": "str"},
            "input": {"types": ["str", "density_function_type"], "structure": "density_function_or_id"}
        }
    },
    "density_function.y_clamped_gradient": {
        "inherit": "temp/SortedKeymap",
        "imports": "density_function:all",
        "keys": {
            "from_y": {"types": "int"},
            "to_y": {"types": "int"},
            "from_value": {"types": "float"},
            "to_value": {"types": "float"}
        }
    }
}