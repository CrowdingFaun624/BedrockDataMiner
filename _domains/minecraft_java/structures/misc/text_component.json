{
    "group_aliases": {
        "a": "structures/misc/types",
        "misc": "structures/misc/misc",
        "temp": "structures/misc/template"
    },
    "root_type": {
        "type": "TypeAlias",
        "types": ["a/string", "a/compound", "a/list"]
    },
    "raw_json_text": {
        "inherit": "root",
        "pre_normalized_types": "a/string",
        "normalizers": {
            "function_name": "load_json"
        }
    },
    "lines": {
        "inherit": "temp/List.nbt",
        "$field": "line",
        "value_types": "root_type",
        "value_structure": "root"
    },
    "root": {
        "type": "Union",
        "substructures": {
            "a/string": null,
            "a/compound": "text_component",
            "a/list": "text_components"
        }
    },
    "text_components": {
        "inherit": "temp/List.nbt",
        "$field": "component",
        "value_types": "root_type",
        "value_structure": "root"
    },
    "text_component": {
        "type": "Switch",
        "switch_function": {
            "function_name": "normalizers/text_component_choose"
        },
        "substructures": {
            "text": {"types": "a/compound", "structure": "text_component.text"},
            "translatable": {"types": "a/compound", "structure": "text_component.translatable"},
            "score": {"types": "a/compound", "structure": "text_component.score"},
            "selector": {"types": "a/compound", "structure": "text_component.selector"},
            "keybind": {"types": "a/compound", "structure": "text_component.keybind"},
            "nbt": {"types": "a/compound", "structure": "text_component.nbt"}
        }
    },
    "text_component:all": {
        "type": "Keymap",
        "keys": {
            "type": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "extra": {"types": "a/list", "structure": "text_components"},
            "insertion": {"types": "a/string"},
            "click_event": {"types": "a/compound", "structure": "click_event"},
            "hoveer_event": {"types": "a/compound", "structure": "hover_event"}
        }
    },
    "text_component:formatting": {
        "inherit": "temp/SortedKeymap", // intentionally use non-nbt class because structures/data/chat_types uses this Keymap directly.
        "keys": {
            "color": {"types": "a/string"},
            "font": {"types": "a/string"},
            "bold": {"types": "a/bool"},
            "italic": {"types": "a/bool"},
            "underlined": {"types": "a/bool"},
            "strikethrough": {"types": "a/bool"},
            "obfuscated": {"types": "a/bool"},
            "shadow_color": {"types": ["a/int", "a/list"], "structure": "misc/color"} // silly Mojang using different color formats in the same object
        }
    },
    "text_component.text": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "text": {"types": "a/string", "delegate_arguments": {"always_print": true}}
        }
    },
    "text_component.translatable": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "translate": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "fallback": {"types": "a/string"},
            "with": {"types": "a/list", "structure": "text_components"}
        }
    },
    "text_component.score": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "score": {"types": "a/compound", "structure": "text_component.score:score", "delegate_arguments": {"always_print": true}}
        }
    },
    "text_component.score:score": {
        "inherit": "temp/SortedKeymap.nbt",
        "keys": {
            "name": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "objective": {"types": "a/string", "delegate_arguments": {"always_print": true}}
        }
    },
    "text_component.selector": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "selector": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "separator": {"types": "root_type", "structure": "root"}
        }
    },
    "text_component.keybind": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "keybind": {"types": "a/string", "delegate_arguments": {"always_print": true}}
        }
    },
    "text_component.nbt": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": ["text_component:all", "text_component:formatting"],
        "keys": {
            "source": {"types": "a/string"},
            "nbt": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "interpret": {"types": "a/bool"},
            "separator": {"types": "root_type", "structure": "root"},
            "block": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "entity": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "storage": {"types": "a/string", "delegate_arguments": {"always_print": true}}
        }
    },
    "click_event": {
        "type": "Switch",
        "switch_function": {
            "function_name": "get_key",
            "arguments": {
                "key": "action"
            }
        },
        "substructures": {
            "open_url": {"types": "a/compound", "structure": "click_event.open_url"},
            "open_file": {"types": "a/compound", "structure": "click_event.open_file"},
            "run_command": {"types": "a/compound", "structure": "click_event.run_command"},
            "suggest_command": {"types": "a/compound", "structure": "click_event.suggest_command"},
            "change_page": {"types": "a/compound", "structure": "click_event.change_page"},
            "copy_to_clipboard": {"types": "a/compound", "structure": "click_event.copy_to_clipboard"},
            "show_dialog": {"types": "a/compound", "structure": "click_event.show_dialog"},
            "custom": {"types": "a/compound", "structure": "click_event.custom"}
        }
    },
    "event:all": {
        "inherit": "temp/SortedKeymap.nbt",
        "keys": {
            "action": {"types": "a/string", "delegate_arguments": {"always_print": true}}
        }
    },
    "click_event.open_url": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "url": {"types": "a/string", "structure": "misc/string.nbt"}
        }
    },
    "click_event.open_file": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "path": {"types": "a/string", "structure": "misc/string.nbt"}
        }
    },
    "click_event.run_command": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "command": {"types": "a/string", "structure": "misc/string.nbt"}
        }
    },
    "click_event.suggest_command": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "command": {"types": "a/string", "structure": "misc/string.nbt"}
        }
    },
    "click_event.change_page": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "page": {"types": "a/int"}
        }
    },
    "click_event.copy_to_clipboard": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "value": {"types": "a/string", "structure": "misc/string.nbt"}
        }
    },
    "click_event.show_dialog": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "dialog": {"types": ["a/string", "a/compound"], "structure": "structures/data/dialog/dialog_or_dialog_id"}
        }
    },
    "click_event.custom": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "id": {"types": "a/string", "delegate_arguments": {"always_print": true}},
            "payload": {"types": "a/string"}
        }
    },
    "hover_event": {
        "type": "Switch",
        "switch_function": {
            "function_name": "get_key",
            "arguments": {
                "key": "action"
            }
        },
        "substructures": {
            "show_text": {"types": "a/compound", "structure": "hover_event.show_text"},
            "show_item": {"types": "a/compound", "structure": "hover_event.show_item"},
            "show_entity": {"types": "a/compound", "structure": "hover_event.show_entity"}
        }
    },
    "hover_event.show_text": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "value": {"types": "root_type", "structure": "root"}
        }
    },
    "hover_event.show_item": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "id": {"types": "a/string"},
            "count": {"types": "a/int"},
            "components": {"types": "a/compound", "structure": "structures/misc/data_components/data_components"}
        }
    },
    "hover_event.show_entity": {
        "inherit": "temp/SortedKeymap.nbt",
        "imports": "event:all",
        "keys": {
            "name": {"types": "root_type", "structure": "root"},
            "id": {"types": "a/string"},
            "uuid": {"types": ["a/string", "a/list", "a/int_array"], "structure": "hover_event.show_entity:uuid"}
        }
    },
    "hover_event.show_entity:uuid": {
        "type": "Union",
        "substructures": {
            "a/string": null,
            "a/int_array": "misc/uuid_list.nbt",
            "TAG_List": "misc/uuid_tag_list"
        }
    }
}